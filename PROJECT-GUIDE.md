### **소프트웨어공학 팀 프로젝트 역할 분담 및 기술 협의서 (v1.4 \- 06.19 PM19시)**

**1\. 프로젝트 개요**

●        **프로젝트명:** AI 차트 분석 기반 가상 주식 투자 시뮬레이션

●        **최종 목표:** 사용자가 업로드한 주식 차트를 VLM/LLM으로 분석하고, 그 결과를 바탕으로 가상 투자를 진행할 수 있는 웹 기반 시뮬레이션 개발 및 시연 영상 제작

●        **핵심 마감일:**

○        **MVP(최소 기능 제품) 완성:** 6월 21일 (토) 오전까지 **기한 엄수\!**

○        **최종 결과물 제출:** 6월 23일 (월) 자정까지 **기한 엄수\!**

**2\. 핵심 개발 전략**

●        **API 규격 우선 정의:** 백엔드와 프론트엔드 간의 데이터 통신 규격을 최우선으로 확정합니다.  
●        **병렬 개발:** 약속된 API 규격에 따라 각 파트가 독립적으로 개발을 진행하여 효율을 극대화합니다.

---

### **3\. 파트별 역할 및 책임 (R\&R) \- 역할 분담 완료**

#### **① AI 모델 및 시뮬레이션 담당 (2명) \- 권혁준 \+ 이건우** 

이 팀의 목표는 프로젝트의 핵심 두뇌인 \*\*'AI 분석 엔진'\*\*과 사용자의 흥미를 유발할 \*\*'가상 투자 시뮬레이션 엔진'\*\*을 개발하는 것입니다.

●        **담당 A \- VLM 분석 모델 개발:**

○        **핵심 미션:** 이미지 분석 모델의 성능을 고도화하여 정확한 분석 결과를 제공합니다.

○        **주요 책임:** Ollama 프롬프트 최적화, VLM-LLM 체인 구조 개선, 분석 결과 정규화.

○        **핵심 결과물:** `analyzer.py` 모듈 (차트 이미지를 입력받아 분석 텍스트를 반환하는 함수 포함).

●        **담당 B \- 가상 주식 시뮬레이션 개발:**

○        **핵심 미션:** 사용자의 가상 투자를 처리하는 시뮬레이션 로직을 개발합니다.

○        **주요 책임:**

1\.       **포트폴리오 관리:** 사용자의 현금, 보유 주식, 수익률 등을 관리하는 간단한 데이터 구조 설계 (e.g., Python Dictionary).

2\.       **매매 로직 구현:** `buy(ticker, quantity)`, `sell(ticker, quantity)` 등 핵심 매매 함수 개발.

3\.       **데이터 연동:** (필요시) 간단한 주식 현재가 정보를 가져오는 기능 구현.

○        **핵심 결과물:** `simulation.py` 모듈 (매매 및 포트폴리오 조회 함수 포함).

---

#### **② 백엔드 개발 담당 (1명) \- 박효준**

●        **핵심 미션:** 프론트엔드(UI), AI 분석 모델, 주식 시뮬레이션을 모두 연결하는 중앙 서버를 구축합니다.

●        **주요 책임:**

1\.       Flask/FastAPI 서버 구축.

2\.       **API 엔드포인트 개발:**

■        `/api/analyze` (차트 분석 요청)

■        `/api/portfolio` (포트폴리오 정보 조회)

■        `/api/buy` (매수 요청 처리)

■        `/api/sell` (매도 요청 처리)

3\.       각 요청에 맞춰 `analyzer.py`와 `simulation.py`의 함수를 호출하고 결과를 프론트엔드에 전달.

●        **핵심 결과물:** 모든 API 기능이 구현된 백엔드 서버 코드.

---

#### **③ 프론트엔드 개발 담당 (2명) \- 박태성 \+ 전영민**

●        **핵심 미션:** 사용자가 AI 분석 결과를 보고, 가상 투자를 직접 실행할 수 있는 모든 웹 화면을 개발합니다.

●        **주요 책임:**

1\.       **\[UI/UX\]:** 전체 서비스의 디자인 및 레이아웃 설계.

2\.       **\[기능\]:**

■        AI 분석 파트: 이미지 업로드, 분석 요청, 결과 출력 기능 구현.

■        시뮬레이션 파트: 현재 포트폴리오(보유 현금, 주식 등) 표시, 매수/매도 버튼 및 수량 입력 기능 구현.

3\.       백엔드와 모든 API(분석, 포트폴리오, 매수, 매도) 통신 로직 구현.

●        **핵심 결과물:** 모든 기능과 디자인이 구현된 웹 페이지 소스코드.

---

#### **④ PM 및 발표/문서화 담당 (1명) \- 반규형**

●        **핵심 미션:** 프로젝트의 전체 진행을 관리하고, 최종 결과물의 완성도를 책임지는 '감독' 역할을 수행합니다.

●        **주요 책임:**

1\.       **\[프로젝트 관리\]:** 팀의 전체 개발 일정을 관리하고, 매일 각 파트별 진행 상황을 점검하며 팀의 소통을 조율. **(늘어난 개발 범위에 맞춰 일정 재조정 필요)**

2\.       **\[발표/시연 준비\]:** **'차트 분석'과 '가상 투자'** 두 가지 핵심 기능이 모두 잘 드러나도록 최종 발표 영상 스크립트 작성 및 영상 편집.

3\.       **\[문서화\]:** 제출에 필요한 프로젝트 관련 문서 정리.

●        **핵심 결과물:** 최종 발표/시연 영상, 프로젝트 관련 문서.

### ---

### **4\. 개발 착수 전 기술 협의사항**

**오류를 최소화하고 원활한 협업을 위해 아래 규칙을 반드시 준수합니다.**

#### **A. API 명세 (The API Specification)**

●     백엔드와 프론트엔드 간의 유일한 소통 창구입니다.

○     **Endpoint URL:** /api/analyze

○     **HTTP Method:** POST

○     **Request Format (Frontend → Backend):**

■     Content-Type: multipart/form-data

■     Body: 전송할 이미지 파일의 key 값은 chartImage 로 통일합니다.

■     (예: \<input type="file" name="chartImage" /\>)

○     **Response Format (Backend → Frontend):**

■     Content-Type: application/json

■     **성공 시 (HTTP 200 OK):**  
 JSON  
 {  
   "status": "success",  
   "analysis": "AI가 생성한 최종 분석 리포트 텍스트..."  
 }

■     **실패 시 (HTTP 4xx or 5xx):**  
 JSON  
 {  
   "status": "error",  
   "message": "에러가 발생한 이유 (예: 유효하지 않은 파일 형식)"  
 }

#### **B. 주요 파일 및 함수 명명 규칙 (Naming Convention)**

●     **AI 분석 모듈:**

○     파일명: analyzer.py

○     핵심 함수명: def analyze\_chart\_image(image\_bytes):

■     (백엔드 담당자는 이 함수를 import하여 사용합니다.)

●     **백엔드 서버 실행 파일:**

○     파일명: app.py

●     **프론트엔드 기본 파일:**

○     index.html

○     script.js 또는 App.js (React 사용 시)

○     style.css

#### **C. 개발 환경 및 포트 (Environment & Ports)**

●     로컬 개발 시 충돌을 방지하기 위해 포트 번호를 통일합니다.

○     **백엔드 (Flask/FastAPI):** http://localhost:5000

○     **프론트엔드 (Live Server/React):** http://localhost:3000

#### **D. 코드 버전 관리 (Version Control)**

●     **도구:** Git 및 GitHub

●     **운영 방식:**

1\.    팀 공용 GitHub Repository를 생성합니다.

2\.    main 브랜치는 항상 안정적인 버전으로 유지합니다.

3\.    각자 파트별로 브랜치(예: feature/frontend, feature/backend)를 생성하여 작업 후, Pull Request를 통해 main 브랜치에 코드를 병합합니다.

  > **Tip** 자세한 방법은 하단 참조

### ---

### **5\. 요약 및 다음 단계 (Action Item)**

**가장 먼저 할 일은 위 4번 항목의 기술 협의사항을 팀원 전체가 확인하고 확정하는 것입니다.**

이후, 백엔드와 프론트엔드 담당자는 확정된 API 명세를 기준으로 즉시 각자의 개발을 시작할 수 있습니다. 각자 독립적으로 개발하다가 **6월 20일(금) 자정 \~ 6월 21일(토) 오전**을 1차 통합 테스트 시간으로 정함.

# 🤝 팀 협업을 위한 Git 브랜치 & Pull Request 워크플로우

우리 프로젝트의 `main` 브랜치를 항상 안정적인 상태로 유지하고, 각자의 작업을 독립적으로 진행하기 위해 아래와 같은 협업 규칙을 따릅니다.

### 왜 이 방식을 사용해야 할까요?

* **`main` 브랜치의 안정성 확보:** `main` 브랜치에는 항상 **작동이 보장되는 완전한 코드**만 존재하게 됩니다. 누구나 `main` 브랜치의 코드를 받았을 때 오류 걱정 없이 작업을 시작할 수 있습니다.
* **독립적인 작업 공간:** 각자 자신의 브랜치(작업 공간)에서 코드를 수정하므로, 다른 팀원의 작업에 영향을 주거나 받지 않고 편하게 개발할 수 있습니다.
* **코드 리뷰:** 내 코드를 `main` 브랜치에 합치기 전, Pull Request(PR)를 통해 다른 팀원들에게 **코드 리뷰**를 받을 수 있습니다. 실수를 줄이고 코드 품질을 높이는 최고의 방법입니다.

---

### 전체 워크플로우 요약

1.  `main` 브랜치에서 최신 코드를 받고, **자신의 기능 개발 브랜치를 생성**합니다. (예: `feature/backend`)
2.  자신의 브랜치에서 코드를 수정하고, **작업 내용을 커밋(commit)**합니다.
3.  작업이 끝나면 자신의 브랜치를 **원격 저장소(GitHub)에 푸시(push)**합니다.
4.  GitHub에서 `main` 브랜치로 코드를 합쳐달라는 **Pull Request(PR)를 생성**합니다.
5.  다른 팀원들이 PR을 보고 **코드 리뷰 및 승인(Approve)**을 합니다.
6.  프로젝트 리더(또는 담당자)가 PR을 **`main` 브랜치에 병합(Merge)**합니다.
7.  모든 팀원은 다시 `main` 브랜치에서 최신 코드를 받아 다음 작업을 준비합니다.

---

### 단계별 명령어 가이드

#### 1. 기능 개발 시작 (내 작업 공간 만들기)

새로운 기능을 개발하거나 코드를 수정하기 시작할 때, 가장 먼저 할 일입니다.

```bash
# 1. 항상 main 브랜치에서 시작합니다.
git switch main

# 2. 원격 저장소의 최신 내용을 내 로컬 main 브랜치로 가져옵니다. (매우 중요!)
git pull origin main

# 3. 새로운 기능 브랜치를 생성하고, 그 브랜치로 이동합니다.
# 브랜치 이름 규칙: feature/파트이름 (예: feature/backend, feature/frontend-ui)
git switch -c feature/backend
```

#### 2. 코드 작업 및 커밋

이제 자신의 브랜치(`feature/backend`)에서 자유롭게 코드를 수정하고 저장합니다. 작업이 하나의 논리적인 단위로 끝날 때마다 커밋을 남깁니다.

```bash
# 1. 수정한 파일들을 스테이징합니다.
git add .

# 2. 작업 내용을 설명하는 커밋 메시지와 함께 커밋합니다.
# 커밋 메시지 규칙: [태그] 작업 내용 요약 (예: [FEAT] 로그인 API 추가)
git commit -m "[FEAT] /api/portfolio 엔드포인트 기능 구현"
```

#### 3. 원격 저장소에 내 브랜치 올리기

내 컴퓨터에서 하던 작업이 끝나면, 리뷰를 받기 위해 GitHub에 내 브랜치를 업로드합니다.

```bash
# origin(GitHub)에 feature/backend 브랜치를 푸시합니다.
git push origin feature/backend
```

#### 4. Pull Request (PR) 생성하기 (GitHub 웹사이트에서 진행)

1.  [우리 팀 GitHub 저장소](https://github.com/hllojune/AI-Stock-Analyzer) 페이지로 접속합니다.
2.  방금 푸시한 브랜치에 대해 노란색 알림창이 나타나면, **`Compare & pull request`** 버튼을 클릭합니다.
    ![Pull Request Banner](https://i.imgur.com/i9z1G3p.png)
3.  PR 제목과 설명을 작성하고, 오른쪽의 `Reviewers`에서 코드 리뷰를 요청할 팀원을 지정한 후, **`Create pull request`** 버튼을 누릅니다.

#### 5. 코드 리뷰 및 병합 (Merge)

* **리뷰어 (다른 팀원들):** GitHub 저장소의 `Pull requests` 탭에서 동료의 PR을 확인하고, `Files changed` 탭에서 코드 변경 내역을 보며 의견이나 질문을 남깁니다. 이상이 없으면 `Approve` 버튼을 눌러줍니다.
* **프로젝트 리더:** 팀원들의 승인이 완료되면, **`Merge pull request`** 버튼을 눌러 해당 기능 브랜치를 `main` 브랜치에 최종적으로 합칩니다.

#### 6. 마무리 및 동기화

`main` 브랜치에 새로운 코드가 병합되었으므로, 모든 팀원은 다음 작업을 시작하기 전에 **1번 단계**(`git pull origin main`)를 다시 반복하여 각자의 로컬 `main` 브랜치를 최신 상태로 만들어야 합니다.